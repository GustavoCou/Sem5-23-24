<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="597px" preserveAspectRatio="none" style="width:1202px;height:597px;background:#FFFFFF;" version="1.1" viewBox="0 0 1202 597" width="1202px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="337.7031" style="stroke:#000000;stroke-width:1.5;" width="1030.5" x="10" y="206.3672"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="81" x2="81" y1="37.6094" y2="561.0703"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="271" x2="271" y1="37.6094" y2="561.0703"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="479" x2="479" y1="37.6094" y2="561.0703"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="661.5" x2="661.5" y1="37.6094" y2="561.0703"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="773" x2="773" y1="37.6094" y2="561.0703"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="864" x2="864" y1="37.6094" y2="561.0703"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="990.5" x2="990.5" y1="37.6094" y2="561.0703"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1118.5" x2="1118.5" y1="37.6094" y2="561.0703"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122" x="20" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="27" y="26.5332">Fleet Manager UI</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122" x="20" y="560.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="27" y="581.6035">Fleet Manager UI</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="226" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="233" y="26.5332">RobotRoute</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="226" y="560.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="233" y="581.6035">RobotRoute</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="114" x="422" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="429" y="26.5332">RobotController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="114" x="422" y="560.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="429" y="581.6035">RobotController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="612.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="619.5" y="26.5332">RobotService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="612.5" y="560.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="619.5" y="581.6035">RobotService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86" x="730" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="737" y="26.5332">RobotRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86" x="730" y="560.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="737" y="581.6035">RobotRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="826" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="833" y="26.5332">MongoDB</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="826" y="560.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="833" y="581.6035">MongoDB</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="79" x="951.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="958.5" y="26.5332">RobotMap</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="79" x="951.5" y="560.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="958.5" y="581.6035">RobotMap</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="156" x="1040.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="1047.5" y="26.5332">Robot (Domain Model)</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="156" x="1040.5" y="560.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="1047.5" y="581.6035">Robot (Domain Model)</text><polygon fill="#181818" points="259,65.9609,269,69.9609,259,73.9609,263,69.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="81" x2="265" y1="69.9609" y2="69.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="88" y="65.1045">POST Request (inhibit robot)</text><polygon fill="#181818" points="467,96.3125,477,100.3125,467,104.3125,471,100.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="271" x2="473" y1="100.3125" y2="100.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="278" y="95.4561">Delegate request after validation</text><polygon fill="#181818" points="650,126.6641,660,130.6641,650,134.6641,654,130.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="656" y1="130.6641" y2="130.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="486" y="125.8076">inhibitRobot(robotId, status)</text><polygon fill="#181818" points="1106.5,157.0156,1116.5,161.0156,1106.5,165.0156,1110.5,161.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="662" x2="1112.5" y1="161.0156" y2="161.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="669" y="156.1592">Set Inhibition Status</text><polygon fill="#181818" points="673,187.3672,663,191.3672,673,195.3672,669,191.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="667" x2="1117.5" y1="191.3672" y2="191.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="679" y="186.5107">Robot instance/Error</text><path d="M10,206.3672 L71,206.3672 L71,214.7188 L61,224.7188 L10,224.7188 L10,206.3672 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="337.7031" style="stroke:#000000;stroke-width:1.5;" width="1030.5" x="10" y="206.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="25" y="220.8623">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="123" x="86" y="219.7861">[Inhibition successful]</text><polygon fill="#181818" points="761,243.0703,771,247.0703,761,251.0703,765,247.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="662" x2="767" y1="247.0703" y2="247.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="669" y="242.2139">update(robot)</text><polygon fill="#181818" points="979,273.4219,989,277.4219,979,281.4219,983,277.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="773" x2="985" y1="277.4219" y2="277.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="780" y="272.5654">toPersistence(robot)</text><polygon fill="#181818" points="875,303.7734,865,307.7734,875,311.7734,871,307.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="869" x2="990" y1="307.7734" y2="307.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="881" y="302.917">Update Data</text><polygon fill="#181818" points="979,334.125,989,338.125,979,342.125,983,338.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="864" x2="985" y1="338.125" y2="338.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="871" y="333.2686">Data Confirmation</text><polygon fill="#181818" points="784,364.4766,774,368.4766,784,372.4766,780,368.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="778" x2="990" y1="368.4766" y2="368.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="790" y="363.6201">Robot Domain Object</text><polygon fill="#181818" points="673,394.8281,663,398.8281,673,402.8281,669,398.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="667" x2="772" y1="398.8281" y2="398.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="679" y="393.9717">Result&lt;Robot&gt;</text><polygon fill="#181818" points="490,425.1797,480,429.1797,490,433.1797,486,429.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="484" x2="661" y1="429.1797" y2="429.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="496" y="424.3232">Response Data</text><polygon fill="#181818" points="92,455.5313,82,459.5313,92,463.5313,88,459.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="86" x2="478" y1="459.5313" y2="459.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="98" y="454.6748">HTTP Response (200 OK)</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="1040.5" y1="468.5313" y2="468.5313"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="92" x="15" y="479.9502">[Inhibition failed]</text><polygon fill="#181818" points="490,501.7188,480,505.7188,490,509.7188,486,505.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="484" x2="661" y1="505.7188" y2="505.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="496" y="500.8623">Error Message</text><polygon fill="#181818" points="92,532.0703,82,536.0703,92,540.0703,88,536.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="86" x2="478" y1="536.0703" y2="536.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="98" y="531.2139">HTTP Response (Error Code)</text><!--MD5=[7a08eb9c129d9b5926e354dd0cdb76de]
@startuml

participant "Fleet Manager UI" as client
participant "RobotRoute" as route
participant "RobotController" as controller
participant "RobotService" as service
participant "RobotRepo" as repo
participant "MongoDB" as db
participant "RobotMap" as mapper
participant "Robot (Domain Model)" as robot

client -> route : POST Request (inhibit robot)
route -> controller : Delegate request after validation

controller -> service : inhibitRobot(robotId, status)
service -> robot : Set Inhibition Status
robot -> service : Robot instance/Error

alt Inhibition successful
    service -> repo : update(robot)
    repo -> mapper : toPersistence(robot)
    mapper -> db : Update Data
    db - -> mapper : Data Confirmation
    mapper - -> repo : Robot Domain Object
    repo - -> service : Result<Robot>
    service - -> controller : Response Data
    controller - -> client : HTTP Response (200 OK)
else Inhibition failed
    service - -> controller : Error Message
    controller - -> client : HTTP Response (Error Code)
end

@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 BST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>