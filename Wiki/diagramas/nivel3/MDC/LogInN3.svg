<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="666px" preserveAspectRatio="none" style="width:1213px;height:666px;background:#FFFFFF;" version="1.1" viewBox="0 0 1213 666" width="1213px" zoomAndPan="magnify"><defs/><g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="26" x2="26" y1="37.6094" y2="629.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="235" x2="235" y1="37.6094" y2="629.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="353" x2="353" y1="37.6094" y2="629.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="480" x2="480" y1="37.6094" y2="629.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="631.5" x2="631.5" y1="37.6094" y2="629.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="902" x2="902" y1="37.6094" y2="629.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1076.5" x2="1076.5" y1="37.6094" y2="629.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1174.5" x2="1174.5" y1="37.6094" y2="629.9375"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="43" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="12" y="26.5332">User</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="43" x="5" y="628.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="12" y="650.4707">User</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="151" x="160" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="167" y="26.5332">UserLogInComponent</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="151" x="160" y="628.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="167" y="650.4707">UserLogInComponent</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65" x="321" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="328" y="26.5332">AuthDto</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65" x="321" y="628.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="328" y="650.4707">AuthDto</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="168" x="396" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="403" y="26.5332">HttpRequestUserService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="168" x="396" y="628.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="403" y="650.4707">HttpRequestUserService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105" x="579.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="586.5" y="26.5332">UserController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105" x="579.5" y="628.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="586.5" y="650.4707">UserController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="857" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="864" y="26.5332">UserService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="857" y="628.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="864" y="650.4707">UserService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111" x="1021.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="1028.5" y="26.5332">UserRepository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111" x="1021.5" y="628.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="1028.5" y="650.4707">UserRepository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65" x="1142.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="1149.5" y="26.5332">UserDto</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65" x="1142.5" y="628.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="1149.5" y="650.4707">UserDto</text><polygon fill="#181818" points="223.5,65.9609,233.5,69.9609,223.5,73.9609,227.5,69.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="26.5" x2="229.5" y1="69.9609" y2="69.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="33.5" y="65.1045">insert credentials (email, senha)</text><polygon fill="#181818" points="341.5,96.3125,351.5,100.3125,341.5,104.3125,345.5,100.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="235.5" x2="347.5" y1="100.3125" y2="100.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="242.5" y="95.4561">newAuthDto</text><polygon fill="#181818" points="246.5,126.6641,236.5,130.6641,246.5,134.6641,242.5,130.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="240.5" x2="352.5" y1="130.6641" y2="130.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="252.5" y="125.8076">AuthDto</text><polygon fill="#181818" points="468,157.0156,478,161.0156,468,165.0156,472,161.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="235.5" x2="474" y1="161.0156" y2="161.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="242.5" y="156.1592">POST ('Users/Authenticate')</text><polygon fill="#181818" points="620,187.3672,630,191.3672,620,195.3672,624,191.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="480" x2="626" y1="191.3672" y2="191.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="487" y="186.5107">Authenticate(AuthDto)</text><polygon fill="#181818" points="890,217.7188,900,221.7188,890,225.7188,894,221.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="632" x2="896" y1="221.7188" y2="221.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246" x="639" y="216.8623">AuthenticateUser(dto.email, dto.password)</text><polygon fill="#181818" points="1065,248.0703,1075,252.0703,1065,256.0703,1069,252.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="902" x2="1071" y1="252.0703" y2="252.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="909" y="247.2139">GetDomainIdAsync(email)</text><polygon fill="#181818" points="913,278.4219,903,282.4219,913,286.4219,909,282.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="907" x2="1076" y1="282.4219" y2="282.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="919" y="277.5654">return User</text><polygon fill="#181818" points="643,308.7734,633,312.7734,643,316.7734,639,312.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="637" x2="901" y1="312.7734" y2="312.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="649" y="307.917">return User</text><polygon fill="#181818" points="890,339.125,900,343.125,890,347.125,894,343.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="632" x2="896" y1="343.125" y2="343.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="639" y="338.2686">GenerateJwtToken(user)</text><line style="stroke:#181818;stroke-width:1.0;" x1="902" x2="944" y1="373.4766" y2="373.4766"/><line style="stroke:#181818;stroke-width:1.0;" x1="944" x2="944" y1="373.4766" y2="386.4766"/><line style="stroke:#181818;stroke-width:1.0;" x1="903" x2="944" y1="386.4766" y2="386.4766"/><polygon fill="#181818" points="913,382.4766,903,386.4766,913,390.4766,909,386.4766" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="909" y="368.6201">validateCredentials</text><line style="stroke:#181818;stroke-width:1.0;" x1="902" x2="944" y1="416.8281" y2="416.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="944" x2="944" y1="416.8281" y2="429.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="903" x2="944" y1="429.8281" y2="429.8281"/><polygon fill="#181818" points="913,425.8281,903,429.8281,913,433.8281,909,429.8281" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="909" y="411.9717">generate JWTToken</text><polygon fill="#181818" points="1163,456.1797,1173,460.1797,1163,464.1797,1167,460.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="902" x2="1169" y1="460.1797" y2="460.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="909" y="455.3232">newUserDto</text><polygon fill="#181818" points="913,486.5313,903,490.5313,913,494.5313,909,490.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="907" x2="1174" y1="490.5313" y2="490.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="919" y="485.6748">userDto</text><polygon fill="#181818" points="643,516.8828,633,520.8828,643,524.8828,639,520.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="637" x2="901" y1="520.8828" y2="520.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="649" y="516.0264">return UserDto, Token</text><polygon fill="#181818" points="491,547.2344,481,551.2344,491,555.2344,487,551.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="485" x2="631" y1="551.2344" y2="551.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="497" y="546.3779">return UserDto, Token</text><polygon fill="#181818" points="246.5,577.5859,236.5,581.5859,246.5,585.5859,242.5,581.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="240.5" x2="479" y1="581.5859" y2="581.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="252.5" y="576.7295">return UserDto, Token</text><polygon fill="#181818" points="37.5,607.9375,27.5,611.9375,37.5,615.9375,33.5,611.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="31.5" x2="234.5" y1="611.9375" y2="611.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="43.5" y="607.0811">sucessfull Authentication</text><!--MD5=[8485485a5e979863504a139dbee48547]
@startuml

User -> UserLogInComponent :insert credentials (email, senha)

UserLogInComponent -> AuthDto:  newAuthDto
AuthDto -> UserLogInComponent : AuthDto

UserLogInComponent -> HttpRequestUserService: POST ('Users/Authenticate')
HttpRequestUserService -> UserController: Authenticate(AuthDto)
UserController -> UserService: AuthenticateUser(dto.email, dto.password)
UserService -> UserRepository : GetDomainIdAsync(email)
UserRepository -> UserService: return User
UserService -> UserController: return User

UserController -> UserService: GenerateJwtToken(user)
UserService -> UserService: validateCredentials
UserService -> UserService: generate JWTToken

UserService -> UserDto: newUserDto
UserDto -> UserService: userDto

UserService -> UserController : return UserDto, Token
UserController -> HttpRequestUserService: return UserDto, Token

HttpRequestUserService -> UserLogInComponent: return UserDto, Token
UserLogInComponent -> User: sucessfull Authentication
@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: pt
Country: PT
--></g></svg>