<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1880px" preserveAspectRatio="none" style="width:2917px;height:1880px;background:#FFFFFF;" version="1.1" viewBox="0 0 2917 1880" width="2917px" zoomAndPan="magnify"><defs/><g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="69" x2="69" y1="37.6094" y2="1844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="283.5" x2="283.5" y1="37.6094" y2="1844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="506" x2="506" y1="37.6094" y2="1844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="671.5" x2="671.5" y1="37.6094" y2="1844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="774" x2="774" y1="37.6094" y2="1844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="902" x2="902" y1="37.6094" y2="1844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1017" x2="1017" y1="37.6094" y2="1844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1133" x2="1133" y1="37.6094" y2="1844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1255" x2="1255" y1="37.6094" y2="1844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1467.5" x2="1467.5" y1="37.6094" y2="1844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1645" x2="1645" y1="37.6094" y2="1844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1811.5" x2="1811.5" y1="37.6094" y2="1844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1888.5" x2="1888.5" y1="37.6094" y2="1844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1974.5" x2="1974.5" y1="37.6094" y2="1844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2141" x2="2141" y1="37.6094" y2="1844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2515.5" x2="2515.5" y1="37.6094" y2="1844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2663" x2="2663" y1="37.6094" y2="1844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2753" x2="2753" y1="37.6094" y2="1844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2870" x2="2870" y1="37.6094" y2="1844"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="12" y="26.5332">BridgeComponent</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="5" y="1843"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="12" y="1864.5332">BridgeComponent</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="171" x="198.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="205.5" y="26.5332">CreateBridgeComponent</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="171" x="198.5" y="1843"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="205.5" y="1864.5332">CreateBridgeComponent</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146" x="433" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="440" y="26.5332">HttpRequestsService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146" x="433" y="1843"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="440" y="1864.5332">HttpRequestsService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="57" x="643.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="650.5" y="26.5332">Router</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="57" x="643.5" y="1843"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="650.5" y="1864.5332">Router</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="711" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="718" y="26.5332">BuildingController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="711" y="1843"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="718" y="1864.5332">BuildingController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111" x="847" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="854" y="26.5332">BuildingService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111" x="847" y="1843"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="854" y="1864.5332">BuildingService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="968" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="975" y="26.5332">BuildingRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="968" y="1843"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="975" y="1864.5332">BuildingRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="1076" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1083" y="26.5332">BuildingSchema</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="1076" y="1843"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1083" y="1864.5332">BuildingSchema</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="1201" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="1208" y="26.5332">FloorController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="1201" y="1843"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="1208" y="1864.5332">FloorController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94" x="1420.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="1427.5" y="26.5332">FloorService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94" x="1420.5" y="1843"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="1427.5" y="1864.5332">FloorService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81" x="1605" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="1612" y="26.5332">FloorRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81" x="1605" y="1843"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="1612" y="1864.5332">FloorRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="1762.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="1769.5" y="26.5332">FloorSchema</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="1762.5" y="1843"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="1769.5" y="1864.5332">FloorSchema</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="36" x="1870.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="22" x="1877.5" y="26.5332">Dto</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="36" x="1870.5" y="1843"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="22" x="1877.5" y="1864.5332">Dto</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="1916.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="1923.5" y="26.5332">BridgeController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="1916.5" y="1843"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="1923.5" y="1864.5332">BridgeController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="2090" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="2097" y="26.5332">BridgeService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="2090" y="1843"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="2097" y="1864.5332">BridgeService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89" x="2471.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="2478.5" y="26.5332">BridgeRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89" x="2471.5" y="1843"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="2478.5" y="1864.5332">BridgeRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="106" x="2610" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="2617" y="26.5332">BridgeSchema</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="106" x="2610" y="1843"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="2617" y="1864.5332">BridgeSchema</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="55" x="2726" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="2733" y="26.5332">Bridge</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="55" x="2726" y="1843"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="2733" y="1864.5332">Bridge</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82" x="2829" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="2836" y="26.5332">BridgeMap</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82" x="2829" y="1843"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="2836" y="1864.5332">BridgeMap</text><polygon fill="#181818" points="272,65.9609,282,69.9609,272,73.9609,276,69.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="69" x2="278" y1="69.9609" y2="69.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="76" y="65.1045">Activate/CreateBridgeComponent</text><line style="stroke:#181818;stroke-width:1.0;" x1="284" x2="326" y1="100.3125" y2="100.3125"/><line style="stroke:#181818;stroke-width:1.0;" x1="326" x2="326" y1="100.3125" y2="113.3125"/><line style="stroke:#181818;stroke-width:1.0;" x1="285" x2="326" y1="113.3125" y2="113.3125"/><polygon fill="#181818" points="295,109.3125,285,113.3125,295,117.3125,291,113.3125" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="291" y="95.4561">ngOnInit()</text><polygon fill="#181818" points="494,139.6641,504,143.6641,494,147.6641,498,143.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="284" x2="500" y1="143.6641" y2="143.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="291" y="138.8076">getBuildings()</text><polygon fill="#181818" points="660,170.0156,670,174.0156,660,178.0156,664,174.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="506" x2="666" y1="174.0156" y2="174.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="513" y="169.1592">GET /building/list</text><polygon fill="#181818" points="762,200.3672,772,204.3672,762,208.3672,766,204.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="672" x2="768" y1="204.3672" y2="204.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="679" y="199.5107">listBuildings()</text><polygon fill="#181818" points="890.5,230.7188,900.5,234.7188,890.5,238.7188,894.5,234.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="774" x2="896.5" y1="234.7188" y2="234.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="781" y="229.8623">getAllBuildings()</text><polygon fill="#181818" points="1005,261.0703,1015,265.0703,1005,269.0703,1009,265.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="902.5" x2="1011" y1="265.0703" y2="265.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="909.5" y="260.2139">listAll()</text><polygon fill="#181818" points="1121.5,291.4219,1131.5,295.4219,1121.5,299.4219,1125.5,295.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1017" x2="1127.5" y1="295.4219" y2="295.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="1024" y="290.5654">find()</text><polygon fill="#181818" points="1028,321.7734,1018,325.7734,1028,329.7734,1024,325.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1022" x2="1132.5" y1="325.7734" y2="325.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="1034" y="320.917">buildingDocs[]</text><polygon fill="#181818" points="913.5,352.125,903.5,356.125,913.5,360.125,909.5,356.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="907.5" x2="1016" y1="356.125" y2="356.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="919.5" y="351.2686">buildings[]</text><polygon fill="#181818" points="785,382.4766,775,386.4766,785,390.4766,781,386.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="779" x2="901.5" y1="386.4766" y2="386.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="791" y="381.6201">buildings[]</text><polygon fill="#181818" points="683,412.8281,673,416.8281,683,420.8281,679,416.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="677" x2="773" y1="416.8281" y2="416.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="689" y="411.9717">buildings[]</text><polygon fill="#181818" points="517,443.1797,507,447.1797,517,451.1797,513,447.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="511" x2="671" y1="447.1797" y2="447.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="523" y="442.3232">buildings[]</text><polygon fill="#181818" points="295,473.5313,285,477.5313,295,481.5313,291,477.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="289" x2="505" y1="477.5313" y2="477.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="301" y="472.6748">buildings[]</text><polygon fill="#181818" points="494,503.8828,504,507.8828,494,511.8828,498,507.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="284" x2="500" y1="507.8828" y2="507.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="291" y="503.0264">getRequest('floor/get/' + buildingId)</text><polygon fill="#181818" points="660,534.2344,670,538.2344,660,542.2344,664,538.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="506" x2="666" y1="538.2344" y2="538.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="513" y="533.3779">GET /floor/get/:buildingId</text><polygon fill="#181818" points="1243.5,564.5859,1253.5,568.5859,1243.5,572.5859,1247.5,568.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="672" x2="1249.5" y1="568.5859" y2="568.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="679" y="563.7295">listFloors(req, res, next)</text><polygon fill="#181818" points="1455.5,594.9375,1465.5,598.9375,1455.5,602.9375,1459.5,598.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1255.5" x2="1461.5" y1="598.9375" y2="598.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="1262.5" y="594.0811">getFloorsByBuildingId(buildingId)</text><polygon fill="#181818" points="1633.5,625.2891,1643.5,629.2891,1633.5,633.2891,1637.5,629.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1467.5" x2="1639.5" y1="629.2891" y2="629.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="1474.5" y="624.4326">findByBuildingId(buildingId)</text><polygon fill="#181818" points="1799.5,655.6406,1809.5,659.6406,1799.5,663.6406,1803.5,659.6406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1645.5" x2="1805.5" y1="659.6406" y2="659.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="1652.5" y="654.7842">find({building: buildingId})</text><polygon fill="#181818" points="1656.5,685.9922,1646.5,689.9922,1656.5,693.9922,1652.5,689.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1650.5" x2="1810.5" y1="689.9922" y2="689.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="1662.5" y="685.1357">floorDocs[]</text><polygon fill="#181818" points="1478.5,716.3438,1468.5,720.3438,1478.5,724.3438,1474.5,720.3438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1472.5" x2="1644.5" y1="720.3438" y2="720.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="1484.5" y="715.4873">floors[]</text><polygon fill="#181818" points="1266.5,746.6953,1256.5,750.6953,1266.5,754.6953,1262.5,750.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1260.5" x2="1466.5" y1="750.6953" y2="750.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="1272.5" y="745.8389">floors[]</text><polygon fill="#181818" points="683,777.0469,673,781.0469,683,785.0469,679,781.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="677" x2="1254.5" y1="781.0469" y2="781.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="689" y="776.1904">floors[]</text><polygon fill="#181818" points="517,807.3984,507,811.3984,517,815.3984,513,811.3984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="511" x2="671" y1="811.3984" y2="811.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="523" y="806.542">floors[]</text><polygon fill="#181818" points="295,837.75,285,841.75,295,845.75,291,841.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="289" x2="505" y1="841.75" y2="841.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="301" y="836.8936">Update floorsX/Y[]</text><line style="stroke:#181818;stroke-width:1.0;" x1="284" x2="326" y1="872.1016" y2="872.1016"/><line style="stroke:#181818;stroke-width:1.0;" x1="326" x2="326" y1="872.1016" y2="885.1016"/><line style="stroke:#181818;stroke-width:1.0;" x1="285" x2="326" y1="885.1016" y2="885.1016"/><polygon fill="#181818" points="295,881.1016,285,885.1016,295,889.1016,291,885.1016" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="291" y="867.2451">prepareData()</text><polygon fill="#181818" points="1876.5,911.4531,1886.5,915.4531,1876.5,919.4531,1880.5,915.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="284" x2="1882.5" y1="915.4531" y2="915.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="291" y="910.5967">Converts form data to BridgeDTO</text><polygon fill="#181818" points="295,941.8047,285,945.8047,295,949.8047,291,945.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="289" x2="1887.5" y1="945.8047" y2="945.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="301" y="940.9482">bridgeDTO</text><polygon fill="#181818" points="494,972.1563,504,976.1563,494,980.1563,498,976.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="284" x2="500" y1="976.1563" y2="976.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="291" y="971.2998">postRequest('bridge', bridgeDTO)</text><polygon fill="#181818" points="660,1002.5078,670,1006.5078,660,1010.5078,664,1006.5078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="506" x2="666" y1="1006.5078" y2="1006.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="513" y="1001.6514">POST /bridge</text><polygon fill="#181818" points="1963,1032.8594,1973,1036.8594,1963,1040.8594,1967,1036.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="672" x2="1969" y1="1036.8594" y2="1036.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="679" y="1032.0029">createBridge(req, res, next)</text><polygon fill="#181818" points="2129,1063.2109,2139,1067.2109,2129,1071.2109,2133,1067.2109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1975" x2="2135" y1="1067.2109" y2="1067.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="1982" y="1062.3545">createBridge(bridgeDTO)</text><polygon fill="#181818" points="2504,1093.5625,2514,1097.5625,2504,1101.5625,2508,1097.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2141" x2="2510" y1="1097.5625" y2="1097.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="2148" y="1092.7061">findById(bridgeDTOId)</text><polygon fill="#181818" points="2651,1123.9141,2661,1127.9141,2651,1131.9141,2655,1127.9141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2516" x2="2657" y1="1127.9141" y2="1127.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="2523" y="1123.0576">findOne(bridgeDTOId)</text><polygon fill="#181818" points="2527,1154.2656,2517,1158.2656,2527,1162.2656,2523,1158.2656" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2521" x2="2662" y1="1158.2656" y2="1158.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="2533" y="1153.4092">bridge</text><polygon fill="#181818" points="2152,1184.6172,2142,1188.6172,2152,1192.6172,2148,1188.6172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2146" x2="2515" y1="1188.6172" y2="1188.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="2158" y="1183.7607">bridge</text><polygon fill="#181818" points="1656.5,1214.9688,1646.5,1218.9688,1656.5,1222.9688,1652.5,1218.9688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1650.5" x2="2140" y1="1218.9688" y2="1218.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="308" x="1662.5" y="1214.1123">sameBuilding(bridgeDTO.floorIdX, bridgeDTO.floorIdY)</text><polygon fill="#181818" points="2129,1245.3203,2139,1249.3203,2129,1253.3203,2133,1249.3203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1645.5" x2="2135" y1="1249.3203" y2="1249.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="1652.5" y="1244.4639">boolean</text><polygon fill="#181818" points="2504,1275.6719,2514,1279.6719,2504,1283.6719,2508,1279.6719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2141" x2="2510" y1="1279.6719" y2="1279.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="351" x="2148" y="1274.8154">bridgeBetweenFloors(bridgeDTO.floorIdX, bridgeDTO.floorIdY)</text><polygon fill="#181818" points="2152,1306.0234,2142,1310.0234,2152,1314.0234,2148,1310.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2146" x2="2515" y1="1310.0234" y2="1310.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="2158" y="1305.167">boolean</text><polygon fill="#181818" points="1656.5,1336.375,1646.5,1340.375,1656.5,1344.375,1652.5,1340.375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1650.5" x2="2140" y1="1340.375" y2="1340.375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="287" x="1662.5" y="1335.5186">getFloorId(bridgeDTO.floorIdX, bridgeDTO.floorIdY)</text><polygon fill="#181818" points="2129,1366.7266,2139,1370.7266,2129,1374.7266,2133,1370.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1645.5" x2="2135" y1="1370.7266" y2="1370.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="1652.5" y="1365.8701">boolean</text><polygon fill="#181818" points="1028,1397.0781,1018,1401.0781,1028,1405.0781,1024,1401.0781" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1022" x2="2140" y1="1401.0781" y2="1401.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="339" x="1034" y="1396.2217">getBuildingByFloor(bridgeDTO.floorIdX, bridgeDTO.floorIdY)</text><polygon fill="#181818" points="2129,1427.4297,2139,1431.4297,2129,1435.4297,2133,1431.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1017" x2="2135" y1="1431.4297" y2="1431.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="1024" y="1426.5732">buildings[]</text><polygon fill="#181818" points="2741.5,1457.7813,2751.5,1461.7813,2741.5,1465.7813,2745.5,1461.7813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2141" x2="2747.5" y1="1461.7813" y2="1461.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="2148" y="1456.9248">create(bridgeDTO)</text><polygon fill="#181818" points="2152,1488.1328,2142,1492.1328,2152,1496.1328,2148,1492.1328" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2146" x2="2752.5" y1="1492.1328" y2="1492.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="2158" y="1487.2764">bridge</text><polygon fill="#181818" points="2504,1518.4844,2514,1522.4844,2504,1526.4844,2508,1522.4844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2141" x2="2510" y1="1522.4844" y2="1522.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="2148" y="1517.6279">save(bridge)</text><polygon fill="#181818" points="2858,1548.8359,2868,1552.8359,2858,1556.8359,2862,1552.8359" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2516" x2="2864" y1="1552.8359" y2="1552.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="2523" y="1547.9795">toPersistence(bridge)</text><polygon fill="#181818" points="2674,1579.1875,2664,1583.1875,2674,1587.1875,2670,1583.1875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2668" x2="2869" y1="1583.1875" y2="1583.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="2680" y="1578.3311">create(bridgePersistenceModel)</text><polygon fill="#181818" points="2527,1609.5391,2517,1613.5391,2527,1617.5391,2523,1613.5391" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2521" x2="2662" y1="1613.5391" y2="1613.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="2533" y="1608.6826">savedBridgeDoc</text><polygon fill="#181818" points="2858,1639.8906,2868,1643.8906,2858,1647.8906,2862,1643.8906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2516" x2="2864" y1="1643.8906" y2="1643.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="2523" y="1639.0342">toDomain(savedBridgeDoc)</text><polygon fill="#181818" points="2527,1670.2422,2517,1674.2422,2527,1678.2422,2523,1674.2422" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2521" x2="2869" y1="1674.2422" y2="1674.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="2533" y="1669.3857">bridge</text><polygon fill="#181818" points="2152,1700.5938,2142,1704.5938,2152,1708.5938,2148,1704.5938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2146" x2="2515" y1="1704.5938" y2="1704.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="2158" y="1699.7373">bridgeDTO</text><polygon fill="#181818" points="1986,1730.9453,1976,1734.9453,1986,1738.9453,1982,1734.9453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1980" x2="2140" y1="1734.9453" y2="1734.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="1992" y="1730.0889">bridgeDTO</text><polygon fill="#181818" points="683,1761.2969,673,1765.2969,683,1769.2969,679,1765.2969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="677" x2="1974" y1="1765.2969" y2="1765.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="689" y="1760.4404">bridgeDTO</text><polygon fill="#181818" points="517,1791.6484,507,1795.6484,517,1799.6484,513,1795.6484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="511" x2="671" y1="1795.6484" y2="1795.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="523" y="1790.792">response</text><polygon fill="#181818" points="295,1822,285,1826,295,1830,291,1826" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="289" x2="505" y1="1826" y2="1826"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="301" y="1821.1436">Display Response</text><!--MD5=[e32f1d70bd48634090ba078585573737]
@startuml


BridgeComponent -> CreateBridgeComponent : Activate/CreateBridgeComponent
CreateBridgeComponent -> CreateBridgeComponent : ngOnInit()

'vai buscar os buildings
CreateBridgeComponent -> HttpRequestsService : getBuildings()
HttpRequestsService -> Router : GET /building/list
Router -> BuildingController : listBuildings()
BuildingController -> BuildingService : getAllBuildings()
BuildingService -> BuildingRepo : listAll()
BuildingRepo -> BuildingSchema : find()
BuildingSchema - -> BuildingRepo : buildingDocs[]
BuildingRepo - -> BuildingService : buildings[]
BuildingService - -> BuildingController : buildings[]
BuildingController - -> Router : buildings[]
Router - -> HttpRequestsService : buildings[]
HttpRequestsService - -> CreateBridgeComponent : buildings[]

' vai buscar os pisos do edificio escolhido
CreateBridgeComponent -> HttpRequestsService : getRequest('floor/get/' + buildingId)
HttpRequestsService -> Router : GET /floor/get/:buildingId
Router -> FloorController : listFloors(req, res, next)
FloorController -> FloorService : getFloorsByBuildingId(buildingId)
FloorService -> FloorRepo : findByBuildingId(buildingId)
FloorRepo -> FloorSchema : find({building: buildingId})
FloorSchema - -> FloorRepo : floorDocs[]
FloorRepo - -> FloorService : floors[]
FloorService - -> FloorController : floors[]
FloorController - -> Router : floors[]
Router - -> HttpRequestsService : floors[]
HttpRequestsService - -> CreateBridgeComponent : Update floorsX/Y[] 

CreateBridgeComponent -> CreateBridgeComponent : prepareData()
CreateBridgeComponent -> Dto : Converts form data to BridgeDTO
Dto - -> CreateBridgeComponent : bridgeDTO
CreateBridgeComponent -> HttpRequestsService : postRequest('bridge', bridgeDTO)
HttpRequestsService -> Router : POST /bridge
Router -> BridgeController : createBridge(req, res, next)

BridgeController -> BridgeService : createBridge(bridgeDTO)
BridgeService -> BridgeRepo : findById(bridgeDTOId)
BridgeRepo -> BridgeSchema : findOne(bridgeDTOId)
BridgeSchema - -> BridgeRepo : bridge
BridgeRepo - -> BridgeService : bridge

BridgeService -> FloorRepo : sameBuilding(bridgeDTO.floorIdX, bridgeDTO.floorIdY)
FloorRepo - -> BridgeService : boolean

BridgeService -> BridgeRepo : bridgeBetweenFloors(bridgeDTO.floorIdX, bridgeDTO.floorIdY)
BridgeRepo - -> BridgeService : boolean

BridgeService -> FloorRepo : getFloorId(bridgeDTO.floorIdX, bridgeDTO.floorIdY)
FloorRepo - -> BridgeService : boolean

BridgeService -> BuildingRepo : getBuildingByFloor(bridgeDTO.floorIdX, bridgeDTO.floorIdY)
BuildingRepo - -> BridgeService : buildings[]

BridgeService -> Bridge : create(bridgeDTO)
Bridge - -> BridgeService : bridge
BridgeService -> BridgeRepo : save(bridge)
BridgeRepo -> BridgeMap : toPersistence(bridge)
BridgeMap - -> BridgeSchema : create(bridgePersistenceModel)
BridgeSchema - -> BridgeRepo : savedBridgeDoc
BridgeRepo -> BridgeMap : toDomain(savedBridgeDoc)
BridgeMap - -> BridgeRepo : bridge
BridgeRepo - -> BridgeService : bridgeDTO
BridgeService - -> BridgeController : bridgeDTO
BridgeController - -> Router : bridgeDTO
Router - -> HttpRequestsService : response
HttpRequestsService - -> CreateBridgeComponent : Display Response

@enduml

@startuml


BridgeComponent -> CreateBridgeComponent : Activate/CreateBridgeComponent
CreateBridgeComponent -> CreateBridgeComponent : ngOnInit()

CreateBridgeComponent -> HttpRequestsService : getBuildings()
HttpRequestsService -> Router : GET /building/list
Router -> BuildingController : listBuildings()
BuildingController -> BuildingService : getAllBuildings()
BuildingService -> BuildingRepo : listAll()
BuildingRepo -> BuildingSchema : find()
BuildingSchema - -> BuildingRepo : buildingDocs[]
BuildingRepo - -> BuildingService : buildings[]
BuildingService - -> BuildingController : buildings[]
BuildingController - -> Router : buildings[]
Router - -> HttpRequestsService : buildings[]
HttpRequestsService - -> CreateBridgeComponent : buildings[]

CreateBridgeComponent -> HttpRequestsService : getRequest('floor/get/' + buildingId)
HttpRequestsService -> Router : GET /floor/get/:buildingId
Router -> FloorController : listFloors(req, res, next)
FloorController -> FloorService : getFloorsByBuildingId(buildingId)
FloorService -> FloorRepo : findByBuildingId(buildingId)
FloorRepo -> FloorSchema : find({building: buildingId})
FloorSchema - -> FloorRepo : floorDocs[]
FloorRepo - -> FloorService : floors[]
FloorService - -> FloorController : floors[]
FloorController - -> Router : floors[]
Router - -> HttpRequestsService : floors[]
HttpRequestsService - -> CreateBridgeComponent : Update floorsX/Y[] 

CreateBridgeComponent -> CreateBridgeComponent : prepareData()
CreateBridgeComponent -> Dto : Converts form data to BridgeDTO
Dto - -> CreateBridgeComponent : bridgeDTO
CreateBridgeComponent -> HttpRequestsService : postRequest('bridge', bridgeDTO)
HttpRequestsService -> Router : POST /bridge
Router -> BridgeController : createBridge(req, res, next)

BridgeController -> BridgeService : createBridge(bridgeDTO)
BridgeService -> BridgeRepo : findById(bridgeDTOId)
BridgeRepo -> BridgeSchema : findOne(bridgeDTOId)
BridgeSchema - -> BridgeRepo : bridge
BridgeRepo - -> BridgeService : bridge

BridgeService -> FloorRepo : sameBuilding(bridgeDTO.floorIdX, bridgeDTO.floorIdY)
FloorRepo - -> BridgeService : boolean

BridgeService -> BridgeRepo : bridgeBetweenFloors(bridgeDTO.floorIdX, bridgeDTO.floorIdY)
BridgeRepo - -> BridgeService : boolean

BridgeService -> FloorRepo : getFloorId(bridgeDTO.floorIdX, bridgeDTO.floorIdY)
FloorRepo - -> BridgeService : boolean

BridgeService -> BuildingRepo : getBuildingByFloor(bridgeDTO.floorIdX, bridgeDTO.floorIdY)
BuildingRepo - -> BridgeService : buildings[]

BridgeService -> Bridge : create(bridgeDTO)
Bridge - -> BridgeService : bridge
BridgeService -> BridgeRepo : save(bridge)
BridgeRepo -> BridgeMap : toPersistence(bridge)
BridgeMap - -> BridgeSchema : create(bridgePersistenceModel)
BridgeSchema - -> BridgeRepo : savedBridgeDoc
BridgeRepo -> BridgeMap : toDomain(savedBridgeDoc)
BridgeMap - -> BridgeRepo : bridge
BridgeRepo - -> BridgeService : bridgeDTO
BridgeService - -> BridgeController : bridgeDTO
BridgeController - -> Router : bridgeDTO
Router - -> HttpRequestsService : response
HttpRequestsService - -> CreateBridgeComponent : Display Response

@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: pt
Country: PT
--></g></svg>