<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="686px" preserveAspectRatio="none" style="width:1396px;height:686px;background:#FFFFFF;" version="1.1" viewBox="0 0 1396 686" width="1396px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="156" y="114.9609"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="156" y="175.6641"/><rect fill="#FFFFFF" height="46.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="305" y="206.0156"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="305" y="525.8828"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="509" y="252.7188"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="509" y="495.5313"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="693" y="283.0703"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="693" y="404.4766"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="693" y="465.1797"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="903" y="313.4219"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="903" y="374.125"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1029" y="343.7734"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1117.5" y="145.3125"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1208.5" y="434.8281"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1322" y="556.2344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="37" x2="37" y1="82.6094" y2="604.5859"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="160.5" x2="160.5" y1="82.6094" y2="604.5859"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="310" x2="310" y1="82.6094" y2="604.5859"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="514" x2="514" y1="82.6094" y2="604.5859"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="698" x2="698" y1="82.6094" y2="604.5859"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="908" x2="908" y1="82.6094" y2="604.5859"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1034" x2="1034" y1="82.6094" y2="604.5859"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1122" x2="1122" y1="82.6094" y2="604.5859"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1213" x2="1213" y1="82.6094" y2="604.5859"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1327" x2="1327" y1="82.6094" y2="604.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="5" y="79.5332">Utilisador</text><ellipse cx="37" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M37,21.5 L37,48.5 M24,29.5 L50,29.5 M37,48.5 L24,63.5 M37,48.5 L50,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="5" y="618.1191">Utilisador</text><ellipse cx="37" cy="629.6953" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M37,637.6953 L37,664.6953 M24,645.6953 L50,645.6953 M37,664.6953 L24,679.6953 M37,664.6953 L50,679.6953 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="112.5" y="14.7813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="132" y="36.3145">Frontend</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="119.5" y="53.9238">Página Login</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="145.5" y="71.5332">[SPA]</text><rect fill="#E2E2F0" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="112.5" y="603.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="132" y="625.1191">Frontend</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="119.5" y="642.7285">Página Login</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="145.5" y="660.3379">[SPA]</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="168" x="226" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="233" y="71.5332">HttpRequestUserService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="168" x="226" y="603.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="233" y="625.1191">HttpRequestUserService</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="458" y="32.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="465" y="53.9238">UsersController</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="484.5" y="71.5332">[Backend]</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="458" y="603.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="465" y="625.1191">UsersController</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="484.5" y="642.7285">[Backend]</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="653" y="32.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="660" y="53.9238">UserService</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="668.5" y="71.5332">[Backend]</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="653" y="603.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="660" y="625.1191">UserService</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="668.5" y="642.7285">[Backend]</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="114" x="851" y="32.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="858" y="53.9238">IUserRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="878.5" y="71.5332">[Backend]</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="114" x="851" y="603.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="858" y="625.1191">IUserRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="878.5" y="642.7285">[Backend]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="996" y="79.5332">SQLServer</text><path d="M1016,29 C1016,19 1034,19 1034,19 C1034,19 1052,19 1052,29 L1052,55 C1052,65 1034,65 1034,65 C1034,65 1016,65 1016,55 L1016,29 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1016,29 C1016,39 1034,39 1034,39 C1034,39 1052,39 1052,29 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="996" y="618.1191">SQLServer</text><path d="M1016,631.1953 C1016,621.1953 1034,621.1953 1034,621.1953 C1034,621.1953 1052,621.1953 1052,631.1953 L1052,657.1953 C1052,667.1953 1034,667.1953 1034,667.1953 C1034,667.1953 1016,667.1953 1016,657.1953 L1016,631.1953 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1016,631.1953 C1016,641.1953 1034,641.1953 1034,641.1953 C1034,641.1953 1052,641.1953 1052,631.1953 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81" x="1082" y="32.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="1097" y="53.9238">AuthDto</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="1093" y="71.5332">[Backend]</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81" x="1082" y="603.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="1097" y="625.1191">AuthDto</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="1093" y="642.7285">[Backend]</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81" x="1173" y="32.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="1188" y="53.9238">UserDto</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="1184" y="71.5332">[Backend]</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81" x="1173" y="603.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="1188" y="625.1191">UserDto</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="1184" y="642.7285">[Backend]</text><rect fill="#E2E2F0" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="1264" y="14.7813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="1288.5" y="36.3145">Role Based</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="1271" y="53.9238">Menu Component</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="1309.5" y="71.5332">[SPA]</text><rect fill="#E2E2F0" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="1264" y="603.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="1288.5" y="625.1191">Role Based</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="1271" y="642.7285">Menu Component</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="1309.5" y="660.3379">[SPA]</text><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="156" y="114.9609"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="156" y="175.6641"/><rect fill="#FFFFFF" height="46.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="305" y="206.0156"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="305" y="525.8828"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="509" y="252.7188"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="509" y="495.5313"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="693" y="283.0703"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="693" y="404.4766"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="693" y="465.1797"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="903" y="313.4219"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="903" y="374.125"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1029" y="343.7734"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1117.5" y="145.3125"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1208.5" y="434.8281"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1322" y="556.2344"/><polygon fill="#181818" points="144,110.9609,154,114.9609,144,118.9609,148,114.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="37" x2="150" y1="114.9609" y2="114.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="44" y="110.1045">Enter Credentials</text><polygon fill="#181818" points="1105.5,141.3125,1115.5,145.3125,1105.5,149.3125,1109.5,145.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="161" x2="1111.5" y1="145.3125" y2="145.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="168" y="140.4561">Create(AuthDto)</text><polygon fill="#181818" points="177,171.6641,167,175.6641,177,179.6641,173,175.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="171" x2="1121.5" y1="175.6641" y2="175.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="183" y="170.8076">AuthDto(email, password)</text><polygon fill="#181818" points="293,202.0156,303,206.0156,293,210.0156,297,206.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="161" x2="299" y1="206.0156" y2="206.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="168" y="201.1592">Credentials(AuthDto)</text><polygon fill="#181818" points="497,248.7188,507,252.7188,497,256.7188,501,252.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="310" x2="503" y1="252.7188" y2="252.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="317" y="231.5107">POST /api/Users/Authenticate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="317" y="247.8623">(AuthDto)</text><polygon fill="#181818" points="681,279.0703,691,283.0703,681,287.0703,685,283.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="514" x2="687" y1="283.0703" y2="283.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="521" y="278.2139">AuthenticateUser(AuthDto)</text><polygon fill="#181818" points="891,309.4219,901,313.4219,891,317.4219,895,313.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="698" x2="897" y1="313.4219" y2="313.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="705" y="308.5654">GetByDomainId(AuthDto.email)</text><polygon fill="#181818" points="1017,339.7734,1027,343.7734,1017,347.7734,1021,343.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="908" x2="1023" y1="343.7734" y2="343.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="915" y="338.917">Query User Data</text><polygon fill="#181818" points="924,370.125,914,374.125,924,378.125,920,374.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="918" x2="1033" y1="374.125" y2="374.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="930" y="369.2686">User Data</text><polygon fill="#181818" points="714,400.4766,704,404.4766,714,408.4766,710,404.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="708" x2="907" y1="404.4766" y2="404.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="720" y="399.6201">User Data</text><polygon fill="#181818" points="1196.5,430.8281,1206.5,434.8281,1196.5,438.8281,1200.5,434.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="698" x2="1202.5" y1="434.8281" y2="434.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="705" y="429.9717">Populate DTO</text><polygon fill="#181818" points="714,461.1797,704,465.1797,714,469.1797,710,465.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="708" x2="1212.5" y1="465.1797" y2="465.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="720" y="460.3232">Encapsulates User Info</text><polygon fill="#181818" points="530,491.5313,520,495.5313,530,499.5313,526,495.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="524" x2="697" y1="495.5313" y2="495.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="536" y="490.6748">JWT Token</text><polygon fill="#181818" points="326,521.8828,316,525.8828,326,529.8828,322,525.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="320" x2="513" y1="525.8828" y2="525.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="332" y="521.0264">Response (JWT Token)</text><polygon fill="#181818" points="1310,552.2344,1320,556.2344,1310,560.2344,1314,556.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="310" x2="1316" y1="556.2344" y2="556.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246" x="317" y="551.3779">Adjust Menu (Decode JWT Token for Role)</text><polygon fill="#181818" points="48,582.5859,38,586.5859,48,590.5859,44,586.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="42" x2="1326" y1="586.5859" y2="586.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="297" x="54" y="581.7295">Display Role-Based Menu // User becomes the role</text><!--MD5=[a58f516f2a14bcdfefa0b6becbeecce9]
@startuml
actor Utilisador as user
participant "Frontend\nPágina Login\n [SPA]" as LoginForm
participant "HttpRequestUserService" as FrontendService
participant "UsersController\n [Backend]" as UsersController
participant "UserService\n [Backend]" as UserService
participant "IUserRepository\n [Backend]" as IUserRepository
database "SQLServer" as Database
participant "AuthDto\n [Backend]" as AuthDto
participant "UserDto\n [Backend]" as UserDto
participant "Role Based \nMenu Component\n[SPA]" as MenuComponent


user -> LoginForm : Enter Credentials
activate LoginForm
LoginForm -> AuthDto : Create(AuthDto)
deactivate LoginForm
activate AuthDto
AuthDto - -> LoginForm : AuthDto(email, password)
deactivate AuthDto
activate LoginForm
LoginForm -> FrontendService : Credentials(AuthDto)
deactivate LoginForm
activate FrontendService
FrontendService -> UsersController : POST /api/Users/Authenticate\n(AuthDto)
deactivate FrontendService
activate UsersController
UsersController -> UserService : AuthenticateUser(AuthDto)
deactivate UsersController
activate UserService
UserService -> IUserRepository : GetByDomainId(AuthDto.email)
deactivate UserService
activate IUserRepository
IUserRepository -> Database : Query User Data
deactivate IUserRepository
activate Database
Database - -> IUserRepository : User Data
deactivate Database
activate IUserRepository
IUserRepository - -> UserService : User Data
deactivate IUserRepository
activate UserService
UserService -> UserDto : Populate DTO
deactivate UserService
activate UserDto
UserDto - -> UserService : Encapsulates User Info
deactivate UserDto
activate UserService
UserService - -> UsersController : JWT Token
deactivate UserService
activate UsersController
UsersController - -> FrontendService : Response (JWT Token)
deactivate UsersController
activate FrontendService
FrontendService -> MenuComponent : Adjust Menu (Decode JWT Token for Role)
deactivate FrontendService
activate MenuComponent
MenuComponent - -> user : Display Role-Based Menu // User becomes the role
deactivate MenuComponent
deactivate FrontendService

@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 BST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>